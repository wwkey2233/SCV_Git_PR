![Logo](https://static.vecteezy.com/system/resources/previews/017/119/660/original/github-logo-git-hub-icon-with-text-on-white-and-black-background-free-vector.jpg)


# Работа с Git

## 1. Проверка наличия установленного Git
В терминале выполнить команду ***`git --version`***  
Если Git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.

## 2. Установка Git
Загружаем последнюю версию Git с сайта https://git-scm.com/downloads
Устанавливаем с настройками по умолчанию.

## 3. Настройка Git 
При первом использовании Git необходимо представиться. Для этого нужно ввести в терминале две команды:
```
git config --global user.name «Ваше имя английскими буквами»
git config --global user.email ваша почта@example.com
```

## 4. Инициализация репозитория
Указываем папку, в которой Git начнет отслеживать изменения. При этом в папке создается скрытая папка **.git**

Для инициализации репозитория используем команду ***`git init`***.

## 5. Запись изменений в репозиторий
Создаем файл **GitInstruction.md** внутри репозитория.

Чтобы увидеть текущее состояние Git, есть ли изменения в нем, которые нужно сохранить используем команду ***`git status`***.

Для добавления содержимого рабочего каталога в индекс для последующего коммита используем команду ***`git add`*** с указанием полного имени файла с расширением (для автозаполнения нажать клавишу **TAB**). Если для последующего сохранения необходимо подготовить все изменения в репозитории, а не в конкретном файле используем команду ***`git add .`***

Для того чтобы зафиксировать изменения в репозитории используем команду ***`git сommit -m "Комментарий к сохранению"`***.

Если вдруг комментарий к сохранению нужно изменить используем команду ***`git сommit --amend -m "Комментарий к сохранению"`***. При этом сам коммит перезаписывается.

Для одновременного использования команд ***`git add .`*** и ***`git сommit`*** применяется команда ***`git сommit -a -m "Комментарий к сохранению"`***. 

Чтобы увидеть разницу между текущим файлом и сохраненным используем команду ***`git diff`***.

## 6. Просмотр истории сохранений
Для того чтобы открыть журнал всех изенений используем команду ***`git log`***. По умолчанию выводится в обратном хронологическом порядке список сохраненных в данный репозиторий версий с указанием хэш-кода, имени и электронной почты автора, даты создания и сообщения о фиксации.

Команда ***`git log --oneline`*** выводит каждый коммит в одну строку, что весьма удобно при просмотре большого числа коммитов.

А если необходимо вывести конкретное количество последних сохранений, например двух, используем команду ***`git log -2`***.

Чтобы увидеть историю абсолютно всех коммитов (в том числе "потерянных", удаленных) используем команду ***`git reflog`***.

## 7. Перемещение между сохранениями
Для перемещения между сохранениями (версиями файла) используем команду ***`git checkout`*** с указанием первых 4-6 символов хэш-кода сохранения, например ***`git checkout f33470`***. При этом файл в репозитории сформируется соответственно данному коммиту.

 После того как мы поработали с этой версией файла, например отправили кому-то, необходимо вернуться в актуальное состояние.
 Для этого можно использовать разные команды, такие как:
 * ***`git checkout master`*** (универсальная) 
 * ***`git switch -`*** (применима в новых версиях Git)

 ## 8. Игнорирование файлов
 Для того, чтобы исключить из отслеживания в репозитории определенные файлы или папки необходимо создать там файл ***.git ignore*** и записать в него их названия или шаблоны, соответствующие таким файлам или папкам.
 Работу всегда следует начинать с настройки файла ***.git ignore***, так как это защищает от случайного добавления в репозиторий файлов, которые там не нужны.
 На сайте GitHub вы найдете исчерпывающий список хороших примеров файла .gitignore для десятков проектов и языков. Он находится на странице https://github.com/github/gitignore. Им можно воспользоваться как отправной точкой для ваших собственных проектов.

 ## 9. Создание веток в Git
 По умолчанию имя основной ветки в Git - **master**.
 Создать ветку можно командой:
 ```
 git branch <имя новой ветки>
 ```
 Список веток в репозитории можно посмотреть с помощью команды ***`git branch`***

 Для переключения с одной ветки на другую используем команду ***`git checkout <имя ветки>`***

 Для одновременного создания новой ветки и перемещения на нее используем команду ***`git checkout -b <имя ветки>`***

 Если мы переместились в какой-то архивный коммит и желаем создать ветку для последующих изменений от данного коммита, то можно также воспользоваться командой ***`git switch -c <имя ветки>`***. При этом важно помнить, что в основной ветке необходимо вернуться к актуальному сохранению, чтобы коммиты между архивным и актуальным не затерялись. 

 ## 10. Слияние веток и разрешение конфликтов
 Для слияния выбранной ветки с текущей нужно выполнить команду:
 ```
 git merge <название ветки>
 ```
 При работе в двух ветках одновременно может возникнуть ситуация, когда в одной и другой ветке мы по-разному изменили блок текста. Если затем попробовать слить эти ветки, Git сообщит о конфликте и предложит выбрать какие же изменения записать. В результате можно либо оставить информацию из текущей ветки, либо перезаписать в текущую ветку информацию из другой ветки, либо принять обе версии. Также в случае конфликта можно посмотреть подробно все имеющиеся различия. 
 После разрешения конфликта при слиянии двух веток нужно выполнить **коммит слияния!**

 Для визуализации всех веток и отображения всех коммитов в виде дерева используем команду ***`git log --graph`***

 После слияния ветка может стать не нужной. Для удаления ветки используем команду ***`git branch -d <имя ветки>`***. При этом в момент удаления конкретной ветки нужно находится вне этой ветки.

 Если необходимо удалить ветку, которая полностью не слита, то можно использовать команду принудительного удаления ***`git branch -D <имя ветки>`***.

 ## 11. Работа с удаленными репозиториями
Копировать внешний репозиторий на свой ПК можно командой ***`git сlone`***
Например:
```
git clone https://github.com/<логин>/имя файла.git
```
Команда ***`git сlone`*** составная: она не только загружает все изменения, но и пытается слить все ветки на локальном компьютере и в удаленном репозитории. 

Команда ***`git pull`*** позволяет скачать все из текущего репозитория и автоматически сделать **merge** с нашей версией.

Команда ***`git push`*** позволяет отправить нашу версию репозитория на внешний репозиторий. При этом **обязательно нужно быть авторизованным** на внешнем репозитории.

Для того чтобы настроить совместную работу локального и удаленного репозитория необходимо:
1. Создать аккаунт на GitHub.com
2. Создать локальный репозиторий
3. "Подружить" ваш локальный и удаленный репозитории (GitHub при создании нового репозитория подскажет, как это сделать)
4. Отправить (**push**) ваш локальный репозиторий в удаленный (на GitHub), при этом нужно быть авторизованным на удаленном репозитории.
5. Провести изменения с другого компьютера (или просто на сайте GitHub)
6. Выкачать (**pull**) актуальное состояние из удаленного репозитория.

Для организации коллективной работы над проектом, например в больших компаниях, один ответственный за проект создает аккаунт на GitHub. Другие пользователи могут предложить свои изменения при помощи команды **pull request**, которая осуществляет запрос на вливание изменений в репозиторий. Предлагать свои изменения на GitHub нужно в отдельной ветке.

Для того чтобы сделать **pull request** необходимо:
1. Клонировать репозиторий на свой компьютер (далаем **fork** репозитория)
2. Клонировать версию на своем ПК при помощи команды ***`git сlone`***
3. Создать новую ветку и в **нее** внести свои изменения
4. Зафиксировать изменения (делаем коммиты)
5. Отправить свою версию в свой GitHub
6. На сайте GitHub нажимаем кнопку **pull request**